$(document).ready(function(){function e(){s={center:{lat:-41.0726221,lng:172.9166629},zoom:5,disableDefaultUI:!1,disableDoubleClickZoom:!1,streetViewControl:!0,scrollwheel:!0,draggable:!0,draggableCursor:"pointer",draggingCursor:"crosshair",fullscreenControl:!0,keyboardShortcuts:!1,minZoom:5,gestureHandling:"auto",mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#191f2d"}]},{elementType:"labels.text.fill",stylers:[{color:"#919da5"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#4a576c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#93bdec"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ABB7B7"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e2035"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#1e2a36"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#1d2c3b"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{color:"#24363d"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#9e9e9d"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#10152a"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]}]},new t(a=new google.maps.Map(document.getElementById("map"),s))}function t(e){this.map=e,this.originPlaceId=null,this.destinationPlaceId=null,this.travelMode="DRIVING";var t=document.getElementById("origin-input"),i=document.getElementById("destination-input");this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.directionsDisplay.setMap(e);var n=new google.maps.places.Autocomplete(t,{placeIdOnly:!0,componentRestrictions:{country:"NZ"}}),r=new google.maps.places.Autocomplete(i,{placeIdOnly:!0,componentRestrictions:{country:"NZ"}});this.setupPlaceChangedListener(n,"ORIG"),this.setupPlaceChangedListener(r,"DEST")}function i(e,t){m=$(".details").val(),$("#routeDistance").empty().prepend("<div><h2 class='text'>"+e+"</h2><h4>Distance</h4</div>"),$("#routeDuration").empty().prepend("<div><h2 class='text'>"+t+"</h2><h4>Duration</h4</div>"),h=parseFloat(e.replace(",",""))}function n(){c&&u&&$("#People").val()&&$("#Hire").val()?$("#step2").show():$("#step2").hide()}function r(){k="."+P+"."+x,d.filter(k)}var a,s,l,o,p,c,u,d,h,m,y,f,g,v,b,T,w,C,P,x,I,D,k;$("#down-arrow").click(function(){$("html,body").animate({scrollTop:$(".vehicle-details").offset().top},1500)}),new Swiper(".swiper-container",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:1,paginationClickable:!0,spaceBetween:30,loop:!0,speed:2e3,autoplay:5e3,easein:1,autoplayDisableOnInteraction:!1}),google.maps.event.addDomListener(window,"load",e),l=/(?=(.*[1-9]){1}).{1,}/,$("#People").focus(function(){0===$(this).val().length&&($(this).parent().find("span.input-errors").empty(),$(this).parent().find("span.input-errors").append("<ul class='error'></ul>"),$(this).parent().find("span.input-errors ul").append("<li class='numbers'>Must be at least 1 person</li><li class='numbers'>Must be a number</li>"))}).keyup(function(){$(this).val().match(l)?$(this).parent().find("span.input-errors .numbers").remove():$(this).val().match(l)||0!==$("li.numbers").length||$(this).parent().find("span.input-errors ul").append("<li class='numbers'>Must be at least 1 person</li><li class='numbers'>Must be a number</li>"),o=$(this).parent().find("span.input-errors"),$(this).val()<7?$(this).parent().find("span.input-errors .max").remove():$(this).val().match(o)||0!==$("li.max").length||$(this).parent().find("span.input-errors ul").append("<li class='max'>Must be less than 7 people</li>")}),$("#Hire").focus(function(){0===$(this).val().length&&($(this).parent().find("span.input-errors").empty(),$(this).parent().find("span.input-errors").append("<ul class='error'></ul>"),$(this).parent().find("span.input-errors ul").append("<li class='numbers'>Must include 1 number</li>"))}).keyup(function(){$(this).val().match(l)?$(this).parent().find("span.input-errors .numbers").remove():$(this).val().match(l)||0!==$("li.numbers").length||$(this).parent().find("span.input-errors ul").append("<li class='numbers'>Must hire for at least 1 day</li>"),o=$(this).parent().find("span.input-errors"),$(this).val()<=15?$(this).parent().find("span.input-errors .max").remove():$(this).val().match(o)||0!==$("li.max").length||$(this).parent().find("span.input-errors ul").append("<li class='max'>Must be less than 15 days</li>")}),$("form").on("focus","input[type=number]",function(e){$(this).on("mousewheel.disableScroll",function(e){e.preventDefault()})}),$("form").on("blur","input[type=number]",function(e){$(this).off("mousewheel.disableScroll")}),t.prototype.setupPlaceChangedListener=function(e,t){var i=this;e.bindTo("bounds",this.map),e.addListener("place_changed",function(){var r=e.getPlace();r.place_id?("ORIG"===t?(i.originPlaceId=r.place_id,c=!0):(i.destinationPlaceId=r.place_id,u=!0),i.route(),p=!0,n()):window.alert("Please select an option from the dropdown list.")})},t.prototype.route=function(){if(this.originPlaceId&&this.destinationPlaceId){var e=this;this.directionsService.route({origin:{placeId:this.originPlaceId},destination:{placeId:this.destinationPlaceId},travelMode:this.travelMode},function(t,n){"OK"===n?(e.directionsDisplay.setDirections(t),i(t.routes[0].legs[0].distance.text,t.routes[0].legs[0].duration.text)):window.alert("Directions request failed due to "+n)})}},$("#origin-input").focus(function(){c=!1,$(this).val(""),n()}),$("#destination-input").focus(function(){u=!1,$(this).val(""),n()}),C=[{vehicleName:"motorbike",hireCost:109,litrePerFuel:3.7,Name:"Motorbike"},{vehicleName:"smallCar",hireCost:129,litrePerFuel:8.5,Name:"Small Car"},{vehicleName:"largeCar",hireCost:144,litrePerFuel:9.7,Name:"Large Car"},{vehicleName:"motorHome",hireCost:200,litrePerFuel:17,Name:"Motor Home"}],$(".vehicleIcon").click(function(e){y=$(this).attr("data-value");for(var t=0;t<C.length;t++)C[t].vehicleName==y&&(f=C[t].litrePerFuel,g=C[t].hireCost,Name=C[t].Name);hireCalc=parseInt($("#Hire").val()),v=hireCalc*g,w=v+(b=h*(T=1.859*f/100)),$("#active-car").empty().prepend("<h3 class='text'>"+Name+"</h3>"),$("#hireDetail").empty().prepend("<div><h2 class='text'>$"+v+"</h2><h4>Hire Cost</h4></div>"),$("#fuelCost").empty().prepend("<div><h2 class='text'>$"+b.toPrecision(3)+"</h2><h4>Fuel Cost</h4></div>"),$("#totalCost").empty().prepend("<div><h2 class='text'>$"+w.toPrecision(4)+"</h2><h4>Total</h4></div>"),$(".transport-images .active").removeClass("active").find("img").toggle(),$(this).toggleClass("active"),$(this).find("img").toggle(),$("html,body").animate({scrollTop:$(".details-container").offset().top},"slow")}),$("#People,#Hire").keyup(n),I=document.querySelector("[data-ref='input-people']"),D=document.querySelector("[data-ref='input-hire']"),d=mixitup("#mix-container"),$(I).keyup(function(){var e;e=$(this).val().length>2?"":$(this).val(),P=toWords(e)+"People",r()}),$(D).keyup(function(){var e;e=$(this).val().length>2?"":$(this).val(),x=toWords(e)+"Day",r()})});